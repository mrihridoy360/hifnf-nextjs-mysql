# PlanetScale MySQL সেটআপ গাইড

PlanetScale একটি জনপ্রিয় ক্লাউড MySQL প্রোভাইডার যা Vercel-এর সাথে ভালভাবে কাজ করে। এই গাইডটি আপনাকে PlanetScale-এ একটি ফ্রি MySQL ডাটাবেস সেটআপ করতে সাহায্য করবে।

## পদক্ষেপ 1: PlanetScale অ্যাকাউন্ট তৈরি করুন

1. [PlanetScale](https://planetscale.com/) ওয়েবসাইটে যান
2. "Sign Up" বাটনে ক্লিক করুন
3. আপনার ইমেইল দিয়ে সাইন আপ করুন বা GitHub/Google দিয়ে সাইন আপ করুন
4. আপনার অ্যাকাউন্ট ভেরিফাই করুন

## পদক্ষেপ 2: ডাটাবেস তৈরি করুন

1. PlanetScale ড্যাশবোর্ডে, "Create database" বাটনে ক্লিক করুন
2. আপনার ডাটাবেসের জন্য একটি নাম দিন (যেমন "facebook_clone")
3. একটি রিজিয়ন বেছে নিন (আপনার Vercel ডেপ্লয়মেন্টের কাছাকাছি একটি রিজিয়ন বেছে নিন)
4. "Create" বাটনে ক্লিক করুন

## পদক্ষেপ 3: ডাটাবেস কানেকশন তথ্য পান

1. আপনার নতুন তৈরি করা ডাটাবেসে ক্লিক করুন
2. "Connect" বাটনে ক্লিক করুন
3. "Connect with" ড্রপডাউন থেকে "Node.js" বেছে নিন
4. "Password" ট্যাবে ক্লিক করুন
5. "New password" বাটনে ক্লিক করুন
6. একটি পাসওয়ার্ড নাম দিন (যেমন "vercel-connection")
7. "Create" বাটনে ক্লিক করুন
8. আপনার কানেকশন স্ট্রিং কপি করুন

## পদক্ষেপ 4: আপনার .env.local ফাইল আপডেট করুন

আপনার `.env.local` ফাইল খুলুন এবং নিম্নলিখিত তথ্য দিয়ে আপডেট করুন:

```
# Database Configuration
MYSQL_HOST=aws.connect.psdb.cloud
MYSQL_PORT=3306
MYSQL_USER=your-username
MYSQL_PASSWORD=your-password
MYSQL_DATABASE=facebook_clone
```

এই তথ্যগুলি আপনি PlanetScale-এর কানেকশন স্ট্রিং থেকে পাবেন।

## পদক্ষেপ 5: ডাটাবেস কানেকশন টেস্ট করুন

আপনার ডাটাবেস কানেকশন টেস্ট করতে নিম্নলিখিত কমান্ড চালান:

```bash
npm run test-db
```

যদি কানেকশন সফল হয়, আপনি একটি সফলতার মেসেজ দেখতে পাবেন।

## পদক্ষেপ 6: ডাটাবেস স্কিমা সেটআপ করুন

আপনার ডাটাবেস স্কিমা সেটআপ করতে নিম্নলিখিত কমান্ড চালান:

```bash
npm run setup
```

এটি আপনার ডাটাবেসে সমস্ত প্রয়োজনীয় টেবিল তৈরি করবে।

## পদক্ষেপ 7: Vercel এনভায়রনমেন্ট ভেরিয়েবল সেটআপ করুন

Vercel ডেপ্লয়মেন্টের সময়, নিশ্চিত করুন যে আপনি একই ডাটাবেস কানেকশন তথ্য Vercel এনভায়রনমেন্ট ভেরিয়েবল হিসেবে সেট করেছেন:

```
MYSQL_HOST=aws.connect.psdb.cloud
MYSQL_PORT=3306
MYSQL_USER=your-username
MYSQL_PASSWORD=your-password
MYSQL_DATABASE=facebook_clone
```

## সমস্যা সমাধান

### SSL সমস্যা

PlanetScale SSL কানেকশন প্রয়োজন করে। আমরা ইতিমধ্যে `src/lib/db.ts` ফাইলে SSL কনফিগারেশন যোগ করেছি, তাই এটি কাজ করা উচিত।

### কানেকশন এরর

যদি আপনি কানেকশন এরর দেখেন:

1. আপনার ইউজারনেম এবং পাসওয়ার্ড সঠিক কিনা চেক করুন
2. আপনার ডাটাবেস নাম সঠিক কিনা চেক করুন
3. আপনার হোস্ট এবং পোর্ট সঠিক কিনা চেক করুন

### ডাটাবেস স্কিমা এরর

যদি `npm run setup` কমান্ড এরর দেখায়:

1. আপনার ডাটাবেস কানেকশন সঠিক কিনা চেক করুন
2. আপনার ডাটাবেস ইউজারের কাছে টেবিল তৈরি করার অনুমতি আছে কিনা চেক করুন
